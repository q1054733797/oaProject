<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>任务信息</title>
    <script src="../miniui/scripts/boot.js" type="text/javascript"></script>
    <style type="text/css">
        html, body{
            margin:0;padding:0;border:0;width:100%;height:100%;overflow:hidden;
        }
    </style>
</head>
<body>
    <div class="mini-fit" style="text-align: center">
        <div id="tabs" class="mini-tabs" activeIndex="0" style="width: 100%;height: 94%;">

        </div>
        <a class="mini-button" iconCls="icon-undo" onclick="undo">返回</a>
    </div>

    <script>
        mini.parse();

        var tabs = mini.get("tabs");

        var data = null;

        function setData(row) {
            data = mini.clone(row);
            var infoTab = {
                url:data.infoPage,
                title:"任务详情",
                name:"infoPage",
                onload:function (e) {
                    var frame = this.getTabIFrameEl(e.tab);
                    frame.contentWindow.setData(data);
                }
            };
            var imgPage = {
                url:"/base/imgPage.html",
                title:"任务图示",
                name:"imgPage",
                onload:function (e) {
                    var frame = this.getTabIFrameEl(e.tab);
                    frame.contentWindow.setData(data);
                }
            };
            tabs.addTab(infoTab);
            tabs.addTab(imgPage);
            tabs.activeTab(infoTab);
        }
        
        function undo() {
            if (window.CloseOwnerWindow){
                return window.CloseOwnerWindow();
            } else {
                window.close();
            }
        }
    </script>
</body>
</html>